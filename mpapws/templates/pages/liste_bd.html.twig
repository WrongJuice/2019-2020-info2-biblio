{%  extends 'base.html.twig' %}

{% block body  %}

        <br/>
        <h2 class="text-center liste-title"> Vous consultez la liste des {{ GenreToString }}</h2>
        <br/>

    {# SI LA PAGINATION EXISTE#}

    {% if pagination is defined %}

        {% if sousGenre is defined %}

            <button type="button" onclick="window.location.href='{{ path('listeBDSousGenre', {'page': '1', 'genre': genre, 'sousGenre' : sousGenre, 'tri' : "new"  }) }}'" class="btn btn-primary">Les plus récents</button>
            <button type="button" onclick="window.location.href='{{ path('listeBDSousGenre', {'page': '1', 'genre': genre, 'sousGenre' : sousGenre, 'tri' : "old"  }) }}'" class="btn btn-primary">Les plus anciens</button>
            <button type="button" onclick="window.location.href='{{ path('listeBDSousGenre', {'page': '1', 'genre': genre, 'sousGenre' : sousGenre, 'tri' : "pos"  }) }}'" class="btn btn-primary">Le vote du public</button>

        {% else %}

            <button type="button" onclick="window.location.href='{{ path('listeBDGenre', {'page': '1', 'genre': genre, 'tri' : "new"  }) }}'" class="btn btn-primary">Les plus récents</button>
            <button type="button" onclick="window.location.href='{{ path('listeBDGenre', {'page': '1', 'genre': genre, 'tri' : "old"  }) }}'" class="btn btn-primary">Les plus anciens</button>
            <button type="button" onclick="window.location.href='{{ path('listeBDGenre', {'page': '1', 'genre': genre, 'tri' : "pos"  }) }}'" class="btn btn-primary">Le vote du public</button>

        {% endif %}
    {% else %}

        {% if sousGenre is defined %}

            <button type="button" onclick="window.location.href='{{ path('listeBDSousGenre', {'page': '1', 'genre': genre, 'sousGenre' : sousGenre, 'tri' : "new"  }) }}'" class="btn btn-primary">Les plus récents</button>
            <button type="button" onclick="window.location.href='{{ path('listeBDSousGenre', {'page': '1', 'genre': genre, 'sousGenre' : sousGenre, 'tri' : "old"  }) }}'" class="btn btn-primary">Les plus anciens</button>
            <button type="button" onclick="window.location.href='{{ path('listeBDSousGenre', {'page': '1', 'genre': genre, 'sousGenre' : sousGenre, 'tri' : "pos"  }) }}'" class="btn btn-primary">Le vote du public</button>

        {% else %}

            <button type="button" onclick="window.location.href='{{ path('listeBDSGenre', {'page': '1', 'genre': genre, 'tri' : "new"  }) }}'" class="btn btn-primary">Les plus récents</button>
            <button type="button" onclick="window.location.href='{{ path('listeBDGenre', {'page': '1', 'genre': genre, 'tri' : "old"  }) }}'" class="btn btn-primary">Les plus anciens</button>
            <button type="button" onclick="window.location.href='{{ path('listeBDGenre', {'page': '1', 'genre': genre, 'tri' : "pos"  }) }}'" class="btn btn-primary">Le vote du public</button>

        {% endif %}
    {% endif %}

    <ul class="list-unstyled">
        {% set i = 0 %}
        {% for BandeDessinee in BandeDessinees  %}

            <li class="media my-4">
                <a href="{{ path('BDDetaillee', {'id' : BandeDessinee.getId(), 'genre' : BandeDessinee.getGenre() }) }}"> <img src="{{ BandeDessinee.getAffiche() }}" class="mr-3" style="height: 200px" alt="affiche_test.jpg"> </a>
                <div class="media-body">
                    <a href="{{ path('BDDetaillee', {'id' : BandeDessinee.getId(), 'genre' : BandeDessinee.getGenre() }) }}" class="BDlist-link"><h5 class="mt-0 mb-1">{{ BandeDessinee.getTitre() }}</h5></a>
                    <p class="font-weight-bold">{{ BandeDessinee.getDateDeParution()|date("d/m/Y") }} •

                        {% if BandeDessinee.getSesNotes()|length != 0 %}
                            {{ BandeDessinee.getNoteMoyenne() }} / 5</p>
                        {% else  %}
                            Aucune note</p>
                        {% endif %}

                    <p>{{ BandeDessinee.getDescription() }}</p>
                </div>
            </li>

        {% endfor %}
    </ul>




{% endblock %}
